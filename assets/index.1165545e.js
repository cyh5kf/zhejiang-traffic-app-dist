import{q as O,L as He,z as me,K as we,d as P,s as le,g as C,B as T,e as I,v as ve,y as ye,x as N,H as Ne,D as We,Q as Ye,R as Ze}from"./index.799b046a.js";import{y as re,z as xe,A as Pe,D as je,E as ke,c as j,G as Ie,J as Ce,e as Se,x as Ee,k as fe,n as D,m as $e,f as X,K as ae,v as K,w as Q,t as W,i as de,L as Fe,M as Be,N as ze,O as Ve,P as qe,Q as q,p as Ke,R as se,S as ce,j as pe,T as Qe,s as Ge,U as he,q as Je,h as Re,u as Ue}from"./index.2a5ab20d.js";import{a as Te,b as _e,r as et}from"./use-id.d1001925.js";import{u as G}from"./use-expose.e5215c78.js";import{o as Ae}from"./index.ffdeb533.js";import{u as tt,c as at}from"./use-touch.642baf7f.js";const[lt,it]=j("sticky"),ot=Q(P({name:lt,props:{zIndex:D,position:$e("top"),container:Object,offsetTop:X(0),offsetBottom:X(0)},emits:["scroll","change"],setup(e,{emit:y,slots:h}){const v=O(),s=Ie(v),t=le({fixed:!1,width:0,height:0,transform:0}),r=C(()=>Ce(e.position==="top"?e.offsetTop:e.offsetBottom)),p=C(()=>{const{fixed:n,height:g,width:x}=t;if(n)return{width:`${x}px`,height:`${g}px`}}),d=C(()=>{if(!t.fixed)return;const n=Se(Ee(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${r.value}px`});return t.transform&&(n.transform=`translate3d(0, ${t.transform}px, 0)`),n}),i=()=>{if(!v.value||ae(v))return;const{container:n,position:g}=e,x=K(v),B=xe(window);if(t.width=x.width,t.height=x.height,g==="top")if(n){const u=K(n),$=u.bottom-r.value-t.height;t.fixed=r.value>x.top&&u.bottom>0,t.transform=$<0?$:0}else t.fixed=r.value>x.top;else{const{clientHeight:u}=document.documentElement;if(n){const $=K(n),w=u-$.top-r.value-t.height;t.fixed=u-r.value<x.bottom&&u>$.top,t.transform=w<0?-w:0}else t.fixed=u-r.value<x.bottom}(u=>{y("scroll",{scrollTop:u,isFixed:t.fixed})})(B)};return T(()=>t.fixed,n=>y("change",n)),fe("scroll",i,{target:s,passive:!0}),function(n,g){if(!je||!window.IntersectionObserver)return;const x=new IntersectionObserver(u=>{g(u[0].intersectionRatio>0)},{root:document.body}),B=()=>{n.value&&x.unobserve(n.value)};me(B),we(B),ke(()=>{n.value&&x.observe(n.value)})}(v,i),()=>{var n;return I("div",{ref:v,style:p.value},[I("div",{class:it({fixed:t.fixed}),style:d.value},[(n=h.default)==null?void 0:n.call(h)])])}}})),[nt,ge]=j("tab");var rt=P({name:nt,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:D,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:W},setup(e,{slots:y}){const h=C(()=>{const s={},{type:t,color:r,disabled:p,isActive:d,activeColor:i,inactiveColor:n}=e;r&&t==="card"&&(s.borderColor=r,p||(d?s.backgroundColor=r:s.color=r));const g=d?i:n;return g&&(s.color=g),s}),v=()=>{const s=I("span",{class:ge("text",{ellipsis:!e.scrollable})},[y.title?y.title():e.title]);return e.dot||de(e.badge)&&e.badge!==""?I(Fe,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[s]}):s};return()=>I("div",{id:e.id,role:"tab",class:[ge([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:h.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[v()])}});const[Me,ee]=j("swipe"),st={loop:W,width:D,height:D,vertical:Boolean,autoplay:X(0),duration:X(500),touchable:W,lazyRender:Boolean,initialSwipe:X(0),indicatorColor:String,showIndicators:W,stopPropagation:W},Oe=Symbol(Me);var ct=P({name:Me,props:st,emits:["change"],setup(e,{emit:y,slots:h}){const v=O(),s=O(),t=le({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),r=tt(),{children:p,linkChildren:d}=Be(Oe),i=C(()=>p.length),n=C(()=>t[e.vertical?"height":"width"]),g=C(()=>e.vertical?r.deltaY.value:r.deltaX.value),x=C(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-n.value*i.value:0),B=C(()=>Math.ceil(Math.abs(x.value)/n.value)),u=C(()=>i.value*n.value),$=C(()=>(t.active+i.value)%i.value),w=C(()=>{const c=e.vertical?"vertical":"horizontal";return r.direction.value===c}),H=C(()=>{const c={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${t.offset}px)`};if(n.value){const a=e.vertical?"height":"width",l=e.vertical?"width":"height";c[a]=`${u.value}px`,c[l]=e[l]?`${e[l]}px`:""}return c}),J=(c,a=0)=>{let l=c*n.value;e.loop||(l=Math.min(l,-x.value));let o=a-l;return e.loop||(o=se(o,x.value,0)),o},z=({pace:c=0,offset:a=0,emitChange:l})=>{if(i.value<=1)return;const{active:o}=t,b=(k=>{const{active:m}=t;return k?e.loop?se(m+k,-1,i.value):se(m+k,0,B.value):m})(c),f=J(b,a);if(e.loop){if(p[0]&&f!==x.value){const k=f<x.value;p[0].setOffset(k?u.value:0)}if(p[i.value-1]&&f!==0){const k=f>0;p[i.value-1].setOffset(k?-u.value:0)}}t.active=b,t.offset=f,l&&b!==o&&y("change",$.value)},Y=()=>{t.swiping=!0,t.active<=-1?z({pace:i.value}):t.active>=i.value&&z({pace:-i.value})},E=()=>{Y(),r.reset(),q(()=>{t.swiping=!1,z({pace:1,emitChange:!0})})};let F;const L=()=>clearTimeout(F),R=()=>{L(),e.autoplay>0&&i.value>1&&(F=setTimeout(()=>{E(),R()},+e.autoplay))},A=(c=+e.initialSwipe)=>{if(!v.value)return;const a=()=>{var l,o;if(!ae(v)){const b={width:v.value.offsetWidth,height:v.value.offsetHeight};t.rect=b,t.width=+((l=e.width)!=null?l:b.width),t.height=+((o=e.height)!=null?o:b.height)}i.value&&(c=Math.min(i.value-1,c)),t.active=c,t.swiping=!0,t.offset=J(c),p.forEach(b=>{b.setOffset(0)}),R()};ae(v)?N().then(a):a()},Z=()=>A(t.active);let V;const ie=c=>{e.touchable&&(r.start(c),V=Date.now(),L(),Y())},U=()=>{if(!e.touchable||!t.swiping)return;const c=Date.now()-V,a=g.value/c;if((Math.abs(a)>.25||Math.abs(g.value)>n.value/2)&&w.value){const l=e.vertical?r.offsetY.value:r.offsetX.value;let o=0;o=e.loop?l>0?g.value>0?-1:1:0:-Math[g.value>0?"ceil":"floor"](g.value/n.value),z({pace:o,emitChange:!0})}else g.value&&z({pace:0});t.swiping=!1,R()},oe=(c,a)=>{const l=a===$.value,o=l?{backgroundColor:e.indicatorColor}:void 0;return I("i",{style:o,class:ee("indicator",{active:l})},null)};return G({prev:()=>{Y(),r.reset(),q(()=>{t.swiping=!1,z({pace:-1,emitChange:!0})})},next:E,state:t,resize:Z,swipeTo:(c,a={})=>{Y(),r.reset(),q(()=>{let l;l=e.loop&&c===i.value?t.active===0?0:c:c%i.value,a.immediate?q(()=>{t.swiping=!1}):t.swiping=!1,z({pace:l-t.active,emitChange:!0})})}}),d({size:n,props:e,count:i,activeIndicator:$}),T(()=>e.initialSwipe,c=>A(+c)),T(i,()=>A(t.active)),T(()=>e.autoplay,R),T([ze,Ve],Z),T(qe(),c=>{c==="visible"?R():L()}),ve(A),ye(()=>A(t.active)),Ae(()=>A(t.active)),me(L),we(L),fe("touchmove",c=>{e.touchable&&t.swiping&&(r.move(c),w.value)&&(!e.loop&&(t.active===0&&g.value>0||t.active===i.value-1&&g.value<0)||(Ke(c,e.stopPropagation),z({offset:g.value})))},{target:s}),()=>{var c;return I("div",{ref:v,class:ee()},[I("div",{ref:s,style:H.value,class:ee("track",{vertical:e.vertical}),onTouchstartPassive:ie,onTouchend:U,onTouchcancel:U},[(c=h.default)==null?void 0:c.call(h)]),h.indicator?h.indicator({active:$.value,total:i.value}):e.showIndicators&&i.value>1?I("div",{class:ee("indicators",{vertical:e.vertical})},[Array(i.value).fill("").map(oe)]):void 0])}}});const ut=Q(ct),[dt,be]=j("tabs");var vt=P({name:dt,props:{count:ce(Number),inited:Boolean,animated:Boolean,duration:ce(D),swipeable:Boolean,lazyRender:Boolean,currentIndex:ce(Number)},emits:["change"],setup(e,{emit:y,slots:h}){const v=O(),s=p=>y("change",p),t=()=>{var p;const d=(p=h.default)==null?void 0:p.call(h);return e.animated||e.swipeable?I(ut,{ref:v,loop:!1,class:be("track"),duration:1e3*+e.duration,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:s},{default:()=>[d]}):d},r=p=>{const d=v.value;d&&d.state.active!==p&&d.swipeTo(p,{immediate:!e.inited})};return T(()=>e.currentIndex,r),ve(()=>{r(e.currentIndex)}),G({swipeRef:v}),()=>I("div",{class:be("content",{animated:e.animated||e.swipeable})},[t()])}});const[Le,te]=j("tabs"),ft={type:$e("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:X(0),duration:X(.3),animated:Boolean,ellipsis:W,swipeable:Boolean,scrollspy:Boolean,offsetTop:X(0),background:String,lazyRender:W,lineWidth:D,lineHeight:D,beforeChange:Function,swipeThreshold:X(5),titleActiveColor:String,titleInactiveColor:String},Xe=Symbol(Le);var pt=P({name:Le,props:ft,emits:["click","change","scroll","disabled","rendered","click-tab","update:active"],setup(e,{emit:y,slots:h}){let v,s,t;const r=O(),p=O(),d=O(),i=O(),n=Te(),g=Ie(r),[x,B]=function(){const a=O([]),l=[];return He(()=>{a.value=[]}),[a,o=>(l[o]||(l[o]=b=>{a.value[o]=b}),l[o])]}(),{children:u,linkChildren:$}=Be(Xe),w=le({inited:!1,position:"",lineStyle:{},currentIndex:-1}),H=C(()=>u.length>e.swipeThreshold||!e.ellipsis||e.shrink),J=C(()=>({borderColor:e.color,background:e.background})),z=(a,l)=>{var o;return(o=a.name)!=null?o:l},Y=C(()=>{const a=u[w.currentIndex];if(a)return z(a,w.currentIndex)}),E=C(()=>Ce(e.offsetTop)),F=C(()=>e.sticky?E.value+v:0),L=a=>{const l=p.value,o=x.value;if(!(H.value&&l&&o&&o[w.currentIndex]))return;const b=o[w.currentIndex].$el;(function(f,k,m){let S=0;const M=f.scrollLeft,_=m===0?1:Math.round(1e3*m/16);(function ne(){f.scrollLeft+=(k-M)/_,++S<_&&re(ne)})()})(l,b.offsetLeft-(l.offsetWidth-b.offsetWidth)/2,a?0:+e.duration)},R=()=>{const a=w.inited;N(()=>{const l=x.value;if(!l||!l[w.currentIndex]||e.type!=="line"||ae(r.value))return;const o=l[w.currentIndex].$el,{lineWidth:b,lineHeight:f}=e,k=o.offsetLeft+o.offsetWidth/2,m={width:pe(b),backgroundColor:e.color,transform:`translateX(${k}px) translateX(-50%)`};if(a&&(m.transitionDuration=`${e.duration}s`),de(f)){const S=pe(f);m.height=S,m.borderRadius=S}w.lineStyle=m})},A=(a,l)=>{const o=(m=>{const S=m<w.currentIndex?-1:1;for(;m>=0&&m<u.length;){if(!u[m].disabled)return m;m+=S}})(a);if(!de(o))return;const b=u[o],f=z(b,o),k=w.currentIndex!==null;w.currentIndex!==o&&(w.currentIndex=o,l||L(),R()),f!==e.active&&(y("update:active",f),k&&y("change",f,b.title)),t&&!e.scrollspy&&Ge(Math.ceil(he(r.value)-E.value))},Z=(a,l)=>{const o=u.find((f,k)=>z(f,k)===a),b=o?u.indexOf(o):0;A(b,l)},V=(a=!1)=>{if(e.scrollspy){const l=u[w.currentIndex].$el;if(l&&g.value){const o=he(l,g.value)-F.value;s=!0,function(b,f,k,m){let S=xe(b);const M=S<f,_=k===0?1:Math.round(1e3*k/16),ne=(f-S)/_;(function De(){S+=ne,(M&&S>f||!M&&S<f)&&(S=f),Pe(b,S),M&&S<f||!M&&S>f?re(De):m&&re(m)})()}(g.value,o,a?0:+e.duration,()=>{s=!1})}}},ie=a=>{t=a.isFixed,y("scroll",a)},U=()=>u.map((a,l)=>I(rt,Ne({key:a.id,id:`${n}-${l}`,ref:B(l),type:e.type,color:e.color,style:a.titleStyle,class:a.titleClass,shrink:e.shrink,isActive:l===w.currentIndex,controls:a.id,scrollable:H.value,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:o=>((b,f,k)=>{const{title:m,disabled:S}=u[f],M=z(u[f],f);S?y("disabled",M,m):(at(e.beforeChange,{args:[M],done:()=>{A(f),V()}}),y("click",M,m),_e(b)),y("click-tab",{name:M,title:m,event:k,disabled:S})})(a,l,o)},Je(a,["dot","badge","title","disabled","showZeroBadge"])),{title:a.$slots.title})),oe=()=>{if(e.type==="line"&&u.length)return I("div",{class:te("line"),style:w.lineStyle},null)},c=()=>{var a,l,o;const{type:b,border:f,sticky:k}=e,m=[I("div",{ref:k?void 0:d,class:[te("wrap"),{[Qe]:b==="line"&&f}]},[I("div",{ref:p,role:"tablist",class:te("nav",[b,{shrink:e.shrink,complete:H.value}]),style:J.value,"aria-orientation":"horizontal"},[(a=h["nav-left"])==null?void 0:a.call(h),U(),oe(),(l=h["nav-right"])==null?void 0:l.call(h)])]),(o=h["nav-bottom"])==null?void 0:o.call(h)];return k?I("div",{ref:d},[m]):m};return T([()=>e.color,ze],R),T(()=>e.active,a=>{a!==Y.value&&Z(a)}),T(()=>u.length,()=>{w.inited&&(Z(e.active),R(),N(()=>{L(!0)}))}),G({resize:()=>{R(),N(()=>{var a,l;return(l=(a=i.value)==null?void 0:a.swipeRef.value)==null?void 0:l.resize()})},scrollTo:a=>{N(()=>{Z(a),V(!0)})}}),ye(R),Ae(R),ke(()=>{Z(e.active,!0),N(()=>{w.inited=!0,d.value&&(v=K(d.value).height),L(!0)})}),fe("scroll",()=>{if(e.scrollspy&&!s){const a=(()=>{for(let l=0;l<u.length;l++){const{top:o}=K(u[l].$el);if(o>F.value)return l===0?0:l-1}return u.length-1})();A(a)}},{target:g,passive:!0}),$({id:n,props:e,setLine:R,onRendered:(a,l)=>y("rendered",a,l),currentName:Y,scrollIntoView:L}),()=>I("div",{ref:r,class:te([e.type])},[e.sticky?I(ot,{container:r.value,offsetTop:E.value,onScroll:ie},{default:()=>[c()]}):c(),I(vt,{ref:i,count:u.length,inited:w.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:w.currentIndex,onChange:A},{default:()=>{var a;return[(a=h.default)==null?void 0:a.call(h)]}})])}});const ht=Symbol(),[gt,bt]=j("swipe-item");var mt=P({name:gt,setup(e,{slots:y}){let h;const v=le({offset:0,inited:!1,mounted:!1}),{parent:s,index:t}=Re(Oe);if(!s)return;const r=C(()=>{const d={},{vertical:i}=s.props;return s.size.value&&(d[i?"height":"width"]=`${s.size.value}px`),v.offset&&(d.transform=`translate${i?"Y":"X"}(${v.offset}px)`),d}),p=C(()=>{const{loop:d,lazyRender:i}=s.props;if(!i||h)return!0;if(!v.mounted)return!1;const n=s.activeIndicator.value,g=s.count.value-1,x=n===0&&d?g:n-1,B=n===g&&d?0:n+1;return h=t.value===n||t.value===x||t.value===B,h});return ve(()=>{N(()=>{v.mounted=!0})}),G({setOffset:d=>{v.offset=d}}),()=>{var d;return I("div",{class:bt(),style:r.value},[p.value?(d=y.default)==null?void 0:d.call(y):null])}}});const wt=Q(mt),[yt,ue]=j("tab");var xt=P({name:yt,props:Se({},et,{dot:Boolean,name:D,badge:D,title:String,disabled:Boolean,titleClass:Ue,titleStyle:[String,Object],showZeroBadge:W}),setup(e,{slots:y}){const h=Te(),v=O(!1),{parent:s,index:t}=Re(Xe);if(!s)return;const r=()=>{var i;return(i=e.name)!=null?i:t.value},p=C(()=>{const i=r()===s.currentName.value;return i&&!v.value&&(v.value=!0,s.props.lazyRender&&N(()=>{s.onRendered(r(),e.title)})),i}),d=O(!p.value);return T(p,i=>{i?d.value=!1:q(()=>{d.value=!0})}),T(()=>e.title,()=>{s.setLine(),s.scrollIntoView()}),We(ht,p),()=>{var i;const n=`${s.id}-${t.value}`,{animated:g,swipeable:x,scrollspy:B,lazyRender:u}=s.props;if(!y.default&&!g)return;const $=B||p.value;if(g||x)return I(wt,{id:h,role:"tabpanel",class:ue("panel-wrapper",{inactive:d.value}),tabindex:p.value?0:-1,"aria-hidden":!p.value,"aria-labelledby":n},{default:()=>{var H;return[I("div",{class:ue("panel")},[(H=y.default)==null?void 0:H.call(y)])]}});const w=v.value||B||!u?(i=y.default)==null?void 0:i.call(y):null;return G({id:h}),Ye(I("div",{id:h,role:"tabpanel",class:ue("panel"),tabindex:$?0:-1,"aria-labelledby":n},[w]),[[Ze,$]])}}});const zt=Q(xt),Rt=Q(pt);export{zt as T,Rt as a};
